# Дополнительные утилиты на 1С

В поставку добавлены утилиты на 1С в виде дополнительных внешних обработок, которые могут помочь разработке.

- [Дополнительные утилиты на 1С](#дополнительные-утилиты-на-1с)
  - [Как помочь Снегопату запуститься вместе с новой платформой 1С](#как-помочь-снегопату-запуститься-вместе-с-новой-платформой-1с)
  - [Сравнение дампов снегопата](#сравнение-дампов-снегопата)
  - [Дополнительно](#дополнительно)

## Как помочь Снегопату запуститься вместе с новой платформой 1С

Самый простой способ воспользоваться специальной обработкой в режиме 1С:Предприятие.
- путь обработки находится в поставке Снегопата
  - snegopat\core\tools\1с\src\СравнениеДамповСнегопата.epf
см. ниже [Сравнение дампов снегопата](#сравнение-дампов-снегопата)

## Сравнение дампов снегопата

Обработка предназначена для помощи в анализе ошибок, возникающих при выпуске новых релизов 1С.

Как работать?

- Указываем каталог стартера Снегопата
  - Каталог core, в котором находится файл starter.exe от Снегопата
- Дважды запускаем стартер со спец.ключом получения дампов
  - нажать кнопку "Получить дампы от снегопата 1" для платформы, с которой Снегопат умеет работать
  - затем нажать кнопку "Получить дампы от снегопата 2" для платформы, с которой Снегопат еще не умеет работать
  - В обоих случаях
    - Запустится стартер 1С со Снегопатом. 
    - Далее выбрать ИБ с требуемоей версии платформы (работоспособной или новой), 
    - дождаться запуска Конфигуратора .
    - Далее нужно выбрать подходящую папку внутри dumps каталога Снегопата
- Даее выбираем 2 каталога дампов снегопата:
	- Дампы платформы, с которой Снегопат правильно работает.
    	- Обычно в каталоге dumps Снегопата. Например, snegopat\dump\8.03.0017.1549
	- Дампы платформы, с которой Снегопат еще не работает.
    	- Обычно в каталоге dumps Снегопата. Например, snegopat\dump\8.03.0018.1289
- Затем жмём "Сравнить дампы" - обработка прочитает файлы в обоих каталогах и покажет анализ только тех,
   которые найдены в обоих каталогах.
   Анализ (пока) идёт по номерам функций в файлах и описанию самой функции,
   что позволяет быстро найти смещенные функции и поправить нужные файлы 
   (*.v или *.as - тут надо знать, где что описано).

## Дополнительно

- После исправления файлов Снегопата можно запустить стартер с командой отладки прямо из обработки.
  
- Опция "Показывать\учитывать функции без описания" сделана для скрытия\показа
   несущественных функций, которые есть, но в работе не участвуют.

В будущем можно реализовать функционал сравнения текстов функций построчно.
   - Такой анализ более точен будет, но требует больше времени.
